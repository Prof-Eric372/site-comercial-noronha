<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Produto - Comercial Noronha</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .produto-detalhe {
      max-width: 700px;
      margin: 40px auto;
      padding: 20px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      text-align: center;
    }
    .produto-detalhe img {
      width: 100%;
      max-width: 400px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    .produto-detalhe h1 {
      margin-bottom: 10px;
      font-size: 2rem;
    }
    .produto-detalhe p {
      font-size: 1.1rem;
      margin-bottom: 15px;
    }
    .produto-detalhe .preco {
      font-size: 1.5rem;
      font-weight: bold;
      color: #333;
      margin-bottom: 25px;
    }
    .btn {
      margin: 10px 5px;
    }
  #toast {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #28a745;
    color: white;
    padding: 15px 20px;
    border-radius: 4px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    opacity: 0;
    transition: opacity 0.5s ease;
    z-index: 1000;
  }

  #toast.show {
    opacity: 1;
  }

  .toast.hidden {
    display: none;
  }
    @media (max-width: 600px) {
  a.btn.btn-secondary {
    font-size: 14px !important;
    padding: 8px 16px !important;
    width: auto !important;
    max-width: 100% !important;
    line-height: 1.4 !important;
    white-space: nowrap !important;
    display: inline-block !important;
    text-align: center;
  }
   #toast {
    font-size: 14px; 
    bottom: 10px;
    padding: 8px 16px;
  }
}
  </style>
</head>
<body>
  <header>
    <div class="container header-container">
      <a href="index.html" class="logo">
        <img src="images/logo.png" alt="Logo Comercial Noronha" />
        <div class="logo-texto">
          <span class="linha-1">Comercial</span>
          <span class="linha-2">Noronha</span>
        </div>
      </a>
    </div>
  </header>

  <main>
    <section class="produto-detalhe" id="produto-container">
      <!-- Conteúdo será inserido via JS -->
    </section>
  </main>

  <script src="produtos.js"></script>
  <script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get('id');
    const produto = produtos[id];

    if (!produto) {
      document.getElementById('produto-container').innerHTML = '<p>Produto não encontrado.</p>';
    } else {
      document.getElementById('produto-container').innerHTML =
  '<img src="' + produto.imagem + '" alt="' + produto.nome + '" />' +
  '<h1>' + produto.nome + '</h1>' +
  '<p>' + produto.descricao + '</p>' +
  '<p class="preco">R$ ' + produto.preco.toFixed(2) + '</p>' +
  '<button class="btn" onclick="adicionarAoCarrinho()">Adicionar ao carrinho</button>' +
  '<a href="index.html" class="btn btn-secondary">← Continuar comprando</a>';
 
    }

    function adicionarAoCarrinho() {
      if (!produto) return;

      let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];

      const index = carrinho.findIndex(item => item.id === id);
      if (index > -1) {
        carrinho[index].quantidade += 1;
      } else {
        carrinho.push({ ...produto, id, quantidade: 1 });
      }

      localStorage.setItem('carrinho', JSON.stringify(carrinho));
      mostrarToast("Produto adicionado ao carrinho!");
    }

  function mostrarToast(mensagem) {
    const toast = document.getElementById('toast');
    toast.textContent = mensagem;
    toast.classList.remove('hidden');
    toast.classList.add('show');

    setTimeout(() => {
      toast.classList.remove('show');
      toast.classList.add('hidden');
    }, 3000);
  }

  </script>
  <script src="carrinho-utils.js"></script>
<script>
  atualizarContadorCarrinho();
</script>
<div id="toast"></div>
</body>
</html>
